=====================
Растровый калькулятор
=====================

Зависимости:
------------

* numpy
* raster_tools (https://github.com/oldbay/raster_tools)

Установка:
----------
Для устаноки при помощи pip:
    pip install git+https://github.com/oldbay/raster_calc

Для установки в gentoo linux:
    представлен ebuild сценарий raster-calc-999.ebuild


Инструментарий представлен:
---------------------------
Утилитой:
~~~~~~~~~
    *raster_calc.py*- растровый калькулятор который может производить нормализацию комплектов исходных геоданных, радиологическую и атмосферную коррекцию
                                                                                               
применение:
~~~~~~~~~~~
    raster_calc.py <метод рассчёта> <путь до конфига рассчёта> <путь/до/конф/файла>

где:
    <метод рассчёта> - сейчас имеются в наличии:
                    * landsat - нормализация исходных геоданных landat 5,7,8
                    * ndvi - вегетативный индекс
                    * ndwi - водный индекс
                    * (можно добавить свой метод через конфиг)

    <путь до конфига рассчёта>: 
                     для landsat - путь до \*_MTL.txt
                     для индексов - путь до файла в каталоге

    <путь/до/конф/файла> - путь до пользовательского конфига raster_tools

При нормализации L1 ДДЗ landsat
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Файл радиологической коррекции должен располагаться в одном каталоге с 
георастрами (как он рпспалогается в архиве от USGS)
В результате работы скрипта в каталоге с \*_MTL.txt будут созданы
нормализованные спектральные растры(при дефолтном конфиге):

    * blue.tif - для синего канала
    * green.tif - для зелёного канала
    * red.tif - для красного канала
    * nir.tif - для ближнего ИК канала
    * swir1.tif - для среднего ИК1 канала
    * swir2.tif - для среднего ИК2 канала

Эта же номенклатура спектральных растров используется для рассчёта
индексов.


Примеры:
~~~~~~~~
*examples/example_sarvi_index.py* - пример стороннего модуля калькулятора для рассчёта вегетативного индекса SARVI

Данный пример сопровождается примером конфигурационного файла:
    *examples/example_config.py* - подключающего данный модуль к утилите



*examples/example_calc_more_indexes.py* - растровый калькулятор, для расчёта NDVI, NDWI, транспирационной маски и TNDVI

Скрипт позволяет применять простые математические вычисления к операциям с одинаково спозицианированными георастрами.

Для работы скрипта требуется каталог со спектральными растрами созданными в результате работы raster_calc.py.

**применение:**

calc_index_example.py <каталог со спектральными растрами>

В результате работы скрипта в каталоге со спектральными растрами
будут созданы растры индексов:

* index_ndvi_standart.tif - NDVI стандартный метод расчёта
* index_ndvi.tif - NDVI с фильтром
* index_ndwi_standart.tif - NDWI стандартный метод расчёта
* index_ndwi.tif - NDWI с фильтром
* index_tndvi.tif - транспирационный NDVI
